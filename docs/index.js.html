<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import express from 'express'
import cors from 'cors'
import * as mongoose from 'mongoose'

import checkAuth from './utils/checkAuth.js'
import {
    loginValidator,
    registerValidator,
    todoValidator,
} from './validations/validator.js'
import { Todo } from './controllers/toDoController.js'
import dotenv from 'dotenv'
import { UserController } from './controllers/userController.js'

dotenv.config()
/**
 * @file index.js is the root file for this example app
 * @author Brad Traversy
 * @see &lt;a href="https://github.com/mishaplx/todo-API">Plehnevich Misha&lt;/a>
 */
const app = express()

mongoose
    .connect(process.env.MONGO_CONNECT)
    .then(() => {
        console.log('DB Ok')
    })
    .catch(err => console.log('DB connection ERROR---', err))

app.use(express.json())
app.use(cors())

app.post('/auth/register', registerValidator, UserController.registrate)
app.post('/auth/login', loginValidator, UserController.login)
app.get('/auth/me', checkAuth, UserController.check)

app.post('/post/', checkAuth, todoValidator, Todo.createToDoItem) // создание записи
app.get('/posts/', checkAuth, Todo.getAlToDoList) // получить все записи
app.get('/post/:id', checkAuth, Todo.getToDoById) // получить по id
app.delete('/post/:id', checkAuth, Todo.deleteToDoItem) // удаление записи
app.put('/post/:id', checkAuth, Todo.updateToDoItem)

const PORT = process.env.PORT
app.listen(+PORT, () => {
    console.log(`Server Ok,listen localhost:${PORT}`)
})
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-TODO.html">TODO</a></li></ul><h3>Classes</h3><ul><li><a href="%25D0%25A1%25D1%2585%25D0%25B5%25D0%25BC%25D0%25B0%2520%25D0%25B4%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B0%2520Todo.html">Схема документа Todo</a></li><li><a href="%25D0%25A1%25D1%2585%25D0%25B5%25D0%25BC%25D0%25B0%2520%25D0%25B4%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B0%2520user.html">Схема документа user</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Thu Nov 24 2022 16:16:45 GMT+0300 (Москва, стандартное время)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
